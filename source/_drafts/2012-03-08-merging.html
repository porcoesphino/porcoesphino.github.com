---
layout: post
title: "Merging"
date: 2012-03-08
comments: false
---

<div class='post'>
<br /><div style="font-family: Verdana, Arial, sans-serif; font-size: 10px; line-height: 1.5em; margin-bottom: 10px; margin-right: 5px; margin-top: 10px; text-align: justify;"><code style="font-family: 'Courier New', Courier, Fixed; font-size: 1.1em; line-height: normal;">svn merge ^/trunk</code><br />And this will correctly pull into your branch anything from trunk that you are missing. It keeps track of what you have already merged (in a property, ala fib) so you don’t get duplicates.</div><div style="font-family: Verdana, Arial, sans-serif; font-size: 10px; line-height: 1.5em; margin-bottom: 10px; margin-right: 5px; margin-top: 10px; text-align: justify;">Then in a trunk working copy, you can merge your branch with<br /><code style="font-family: 'Courier New', Courier, Fixed; font-size: 1.1em; line-height: normal;"><br />svn merge --reintegrate ^/branches/my-branch</code></div><div style="font-family: Verdana, Arial, sans-serif; font-size: 10px; line-height: 1.5em; margin-bottom: 10px; margin-right: 5px; margin-top: 10px; text-align: justify;"><code style="font-family: 'Courier New', Courier, Fixed; font-size: 1.1em; line-height: normal;"><br /></code></div><div style="margin-bottom: 10px; margin-right: 5px; margin-top: 10px; text-align: justify;"><code></code></div><div style="font-family: Verdana, Arial, sans-serif; font-size: 10px; line-height: 1.5em; margin-bottom: 10px; margin-right: 5px; margin-top: 10px;"><code>Don’t do bunny-hopping if you use svn &gt;= 1.5. You can follow this model, it just works:</code></div><div style="font-family: Verdana, Arial, sans-serif; font-size: 10px; line-height: 1.5em; margin-bottom: 10px; margin-right: 5px; margin-top: 10px;"><code>- svn cp&nbsp;<a href="http://www.blogger.com/blogger.g?blogID=7350861576476858323" rel="nofollow" style="color: #cc6600; text-decoration: none;">http://</a>…/trunk&nbsp;<a href="http://www.blogger.com/blogger.g?blogID=7350861576476858323" rel="nofollow" style="color: #cc6600; text-decoration: none;">http://</a>…/branches/mybranch<br />- svn switch&nbsp;<a href="http://www.blogger.com/blogger.g?blogID=7350861576476858323" rel="nofollow" style="color: #cc6600; text-decoration: none;">http://</a>…/branches/mybranch<br />- svn commit, svn commit, svn commit (work on branch)<br />- svn merge&nbsp;<a href="http://www.blogger.com/blogger.g?blogID=7350861576476858323" rel="nofollow" style="color: #cc6600; text-decoration: none;">http://</a>…/trunk (stay in sync w/ trunk)<br />- svn commit -m “merge trunk”<br />- svn commit, svn commit, svn commit (work on branch)<br />- svn merge&nbsp;<a href="http://www.blogger.com/blogger.g?blogID=7350861576476858323" rel="nofollow" style="color: #cc6600; text-decoration: none;">http://</a>…/trunk (stay in sync w/ trunk)<br />- svn commit -m “merge trunk”<br />- svn commit, svn commit, svn commit (work on branch)<br />- svn merge&nbsp;<a href="http://www.blogger.com/blogger.g?blogID=7350861576476858323" rel="nofollow" style="color: #cc6600; text-decoration: none;">http://</a>…/trunk (prepare branch merge to trunk)<br />- svn commit -m “merge trunk”<br />- svn switch&nbsp;<a href="http://www.blogger.com/blogger.g?blogID=7350861576476858323" rel="nofollow" style="color: #cc6600; text-decoration: none;">http://</a>…/trunk<br />- svn merge –reintegrate&nbsp;<a href="http://www.blogger.com/blogger.g?blogID=7350861576476858323" rel="nofollow" style="color: #cc6600; text-decoration: none;">http://</a>…/branches/mybranch</code></div><div style="font-family: Verdana, Arial, sans-serif; font-size: 10px; line-height: 1.5em; margin-bottom: 10px; margin-right: 5px; margin-top: 10px;"><code><br /></code></div><div style="margin-bottom: 10px; margin-right: 5px; margin-top: 10px; text-align: -webkit-auto;"></div><div style="background-color: white; font-family: arial, helvetica, sans-serif;"><code>Another common use for&nbsp;<strong class="command" style="font-family: 'courier new', courier, fixed;">svn merge</strong>&nbsp;is to roll back a change that has already been committed. Suppose you're working away happily on a working copy of&nbsp;<code class="filename" style="font-family: arial, helvetica, sans-serif; font-style: italic;">/calc/trunk</code>, and you discover that the change made way back in revision 303, which changed&nbsp;<code class="filename" style="font-family: arial, helvetica, sans-serif; font-style: italic;">integer.c</code>, is completely wrong. It never should have been committed. You can use<strong class="command" style="font-family: 'courier new', courier, fixed;">svn merge</strong>&nbsp;to “<span class="quote">undo</span>” the change in your working copy, and then commit the local modification to the repository. All you need to do is to specify a&nbsp;<span class="emphasis"><em>reverse</em></span>&nbsp;difference:</code></div><pre class="screen" style="background-attachment: initial; background-clip: initial; background-color: #f0f0f0; background-image: initial; background-origin: initial; border-bottom-color: black; border-bottom-style: solid; border-bottom-width: 2px; border-left-color: black; border-left-style: dotted; border-left-width: 1px; border-right-color: black; border-right-style: solid; border-right-width: 2px; border-top-color: black; border-top-style: dotted; border-top-width: 1px; font-family: 'courier new', courier, fixed; font-size: 14px; margin-bottom: 1em; margin-left: 0.5in; margin-right: 0.5in; margin-top: 1em; padding-bottom: 0.5em; padding-left: 0.5em; padding-right: 0.5em; padding-top: 0.5em;"><code>$ svn merge -r 303:302 http://svn.example.com/repos/calc/trunk<br />U  integer.c<br /><br />$ svn status<br />M  integer.c<br /><br />$ svn diff<br />…<br /># verify that the change is removed<br />…<br /><br />$ svn commit -m "Undoing change committed in r303."<br />Sending        integer.c<br />Transmitting file data .<br />Committed revision 350.</code></pre><br /><br /></div>
